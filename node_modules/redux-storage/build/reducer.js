'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _reduxStorageMergerSimple = require('redux-storage-merger-simple');

var _reduxStorageMergerSimple2 = _interopRequireDefault(_reduxStorageMergerSimple);

var _constants = require('./constants');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = function (reducer) {
    var merger = arguments.length <= 1 || arguments[1] === undefined ? _reduxStorageMergerSimple2['default'] : arguments[1];

    return function (state, action) {
        return reducer(action.type === _constants.LOAD ? merger(state, action.payload) : state, action);
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9yZWR1Y2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBRUE7Ozs7cUJBRWUsVUFBQyxPQUFELEVBQW9DO0FBQUEsUUFBMUIsTUFBMEI7O0FBQy9DLFdBQU8sVUFBQyxLQUFELEVBQVEsTUFBUjtBQUFBLGVBQW1CLFFBQ3RCLE9BQU8sSUFBUCx1QkFDTSxPQUFPLEtBQVAsRUFBYyxPQUFPLE9BQXJCLENBRE4sR0FFTSxLQUhnQixFQUl0QixNQUpzQixDQUFuQjtBQUFBLEtBQVA7QUFNSCxDIiwiZmlsZSI6InJlZHVjZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2ltcGxlTWVyZ2VyIGZyb20gJ3JlZHV4LXN0b3JhZ2UtbWVyZ2VyLXNpbXBsZSc7XG5cbmltcG9ydCB7IExPQUQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IChyZWR1Y2VyLCBtZXJnZXIgPSBzaW1wbGVNZXJnZXIpID0+IHtcbiAgICByZXR1cm4gKHN0YXRlLCBhY3Rpb24pID0+IHJlZHVjZXIoXG4gICAgICAgIGFjdGlvbi50eXBlID09PSBMT0FEXG4gICAgICAgICAgICA/IG1lcmdlcihzdGF0ZSwgYWN0aW9uLnBheWxvYWQpXG4gICAgICAgICAgICA6IHN0YXRlLFxuICAgICAgICBhY3Rpb25cbiAgICApO1xufTtcbiJdfQ==