'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _actions = require('./actions');

exports['default'] = function (engine) {
    return function (store) {
        var dispatchLoad = function dispatchLoad(state) {
            return store.dispatch((0, _actions.load)(state));
        };
        return engine.load().then(function (newState) {
            dispatchLoad(newState);
            return newState;
        });
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jcmVhdGVMb2FkZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O3FCQUVlLFVBQUMsTUFBRDtBQUFBLFdBQVksVUFBQyxLQUFELEVBQVc7QUFDbEMsWUFBTSxlQUFlLFNBQWYsWUFBZSxDQUFDLEtBQUQ7QUFBQSxtQkFBVyxNQUFNLFFBQU4sQ0FBZSxtQkFBVyxLQUFYLENBQWYsQ0FBWDtBQUFBLFNBQXJCO0FBQ0EsZUFBTyxPQUFPLElBQVAsR0FBYyxJQUFkLENBQW1CLFVBQUMsUUFBRCxFQUFjO0FBQ3BDLHlCQUFhLFFBQWI7QUFDQSxtQkFBTyxRQUFQO0FBQ0gsU0FITSxDQUFQO0FBSUgsS0FOYztBQUFBLEMiLCJmaWxlIjoiY3JlYXRlTG9hZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9hZCBhcyBhY3Rpb25Mb2FkIH0gZnJvbSAnLi9hY3Rpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgKGVuZ2luZSkgPT4gKHN0b3JlKSA9PiB7XG4gICAgY29uc3QgZGlzcGF0Y2hMb2FkID0gKHN0YXRlKSA9PiBzdG9yZS5kaXNwYXRjaChhY3Rpb25Mb2FkKHN0YXRlKSk7XG4gICAgcmV0dXJuIGVuZ2luZS5sb2FkKCkudGhlbigobmV3U3RhdGUpID0+IHtcbiAgICAgICAgZGlzcGF0Y2hMb2FkKG5ld1N0YXRlKTtcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH0pO1xufTtcbiJdfQ==